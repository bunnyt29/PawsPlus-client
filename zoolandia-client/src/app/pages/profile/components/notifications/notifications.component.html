<div class="dashboard">
  <table *ngIf="profile">
    <thead>
    <tr>
      <th scope="col" *ngIf="profile?.roles?.includes('Sitter')">Автор</th>
      <th scope="col" *ngIf="profile?.roles?.includes('Owner')">Гледач</th>
      <th scope="col">Услуга</th>
      <th scope="col">Дати</th>
      <th scope="col">Час</th>
      <th scope="col">Вид среща</th>
      <th scope="col">Локация</th>
      <th scope="col">Съобщение</th>
      <th scope="col">Животно</th>
      <th scope="col">Статус</th>
      <th scope="col">Опции</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let booking of bookings">
      <td *ngIf="profile?.roles?.includes('Sitter')">
        <div class="author">
          <img class="profile-image-small" [src]="booking.photoUrl">
          {{ booking.firstName }} {{ booking.lastName }}
        </div>
      </td>
      <td *ngIf="profile?.roles?.includes('Owner')">
        <div class="author">
          <img class="profile-image-small" [src]="booking.sitterPhotoUrl">
          {{ booking.sitterFirstName }} {{ booking.sitterLastName }}
        </div>
      </td>
      <td>
        {{ booking.serviceName | translateService }}
      </td>
      <td>
        от {{ booking.startDay }} до {{ booking.endDay }}
      </td>
      <td>
        {{ booking.startTime }} - {{ booking.endTime }}
      </td>
      <td>
        <span *ngIf="booking.meetingPlaceId == 1">Взимане от собственика</span>
        <span *ngIf="booking.meetingPlaceId == 2">Оставяне у гледача</span>
        <span *ngIf="booking.meetingPlaceId == 3">Неутрално място</span>
      </td>
      <td>
        {{  booking.meetingPlaceAddress || 'Зареждане...' }}
      </td>
      <td>
        {{ booking.additionalDescription }}
      </td>
      <td (click)="viewPet(booking.ownerId)">
        <img *ngIf="booking.petType === 'Dog'" src="/images/shared/dog.svg" alt="Куче">
        <img *ngIf="booking.petType === 'Cat'" src="/images/shared/cat.svg" alt="Котка">
      </td>
      <td>
        <span *ngIf="booking.status == 'Pending'" class="pending">Чакаща</span>
        <span *ngIf="booking.status == 'Canceled'" class="disapproved">Отказана</span>
        <span *ngIf="booking.status == 'Disapproved'" class="disapproved">Отхвърлена</span>
        <span *ngIf="booking.status == 'Approved'" class="approved">Приета</span>
      </td>
      <td>
        <button class="btn"><img src="/images/shared/answer-yes.png" alt="Одобри" *ngIf="profile?.roles?.includes('Sitter')" (click)="approve(booking.id, booking.ownerId, booking.serviceName)"></button>
        <button class="btn"><img src="/images/shared/answer-no.png" alt="Отхвърли" *ngIf="profile?.roles?.includes('Sitter')" (click)="openReasonForRejectModal('disapprove', booking.id, booking.ownerId, booking.serviceName)"></button>
        <button class="btn" *ngIf="booking.status == 'Pending'|| booking.status == 'Approved'"><img src="/images/shared/answer-no.png" alt="Отхвърли" *ngIf="profile?.roles?.includes('Owner')" (click)="openReasonForRejectModal('cancel', booking.id, booking.sitterId, booking.serviceName)"></button>
      </td>
    </tr>
    </tbody>
  </table>
</div>
<app-wrapper-modal></app-wrapper-modal>
